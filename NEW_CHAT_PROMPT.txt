I have an FPL Decision Helper that's 70% complete. The core prediction system is working, but I need ML models to hit my 85-90% accuracy target.

**CRITICAL: Read this file first for full context:**
- @HANDOFF.md (complete system state, what's done, what remains)

**Quick Context:**
- GitHub: https://github.com/iamheisenburger/fpl-decision-helper
- Convex: https://zany-tern-775.convex.cloud
- Production: https://fpl-decision-helper.vercel.app
- Current Season: 2025-26, Gameweek 9
- My FPL Team ID: 14125

**Tech Stack:**
- Next.js 15 + TypeScript + Convex (serverless backend + DB + cron)
- FPL Official API: https://fantasy.premierleague.com/api/
- FastAPI (for ML service - not yet deployed)

**What's Already Complete (70%):**
✅ Fully automated daily syncs (prices, injuries, fixtures)
✅ 14-week predictions for all 725 players
✅ Injury intelligence (parse return dates, recovery curves)
✅ Fixture difficulty adjustments (position-specific FDR)
✅ Confidence decay (95% → 60% over 14 weeks)
✅ Minutes Lab UI with 14-week outlook modals
✅ Batch generation with rate limiting
✅ Depth chart infrastructure (teammate boost)
✅ Audit trail logging

**What I Need You to Build (30%):**

❌ PHASE 5: ML MODELS
   - Ingest 2024-25 historical season data (for training)
   - Train two-stage ML model:
     1. Logistic regression for P(start)
     2. Weibull AFT survival model for E[minutes | start]
   - Deploy FastAPI service to Render.com or Railway
   - Integrate ML predictions with Convex via HTTP actions
   - Hybrid approach: ML for GW+1 to GW+4, blend for GW+5 to GW+8, heuristic for GW+9 to GW+14
   - Target: 85-90% accuracy (currently 70-80% with heuristics)

❌ OPTIONAL ENHANCEMENTS:
   - Populate depth charts (manual or automated inference from sub patterns)
   - Manager rotation pattern learning (replace hardcoded rules with data)
   - Press conference sentiment (scrape FPL Rockstar - optional)
   - European competition tracking (UCL/Europa fixture impact)
   - Suspension tracking (yellow card accumulation 5/10/15 thresholds)

**My Non-Negotiable Requirements:**
1. FULL AUTOMATION - I don't want to do ANY manual work weekly
2. 14-WEEK PREDICTIONS - Not just next gameweek (DONE ✅)
3. ALL 725 PLAYERS - Not just my squad (DONE ✅)
4. ML-POWERED - 85-90% accuracy target (REMAINING ❌)
5. INJURY TRACKING - Including teammate impact (DONE ✅)
6. LOCAL BUILD TESTING - MUST run `npm run build` and verify it passes BEFORE pushing to GitHub

**Development Workflow You MUST Follow:**
1. Make code changes
2. Test locally: `npm run build` (MUST pass)
3. For Convex changes: `npx convex deploy` first, then build
4. If build passes: `git add . && git commit -m "..." && git push`
5. Monitor Vercel deployment

**Critical Context:**
- Current season: 2025-26 (previous season: 2024-25, NOT 2023-24)
- NO MISINFORMATION - Always verify facts (teams, players, dates)
- NO HARDCODED DATA - Everything dynamic from FPL API
- Always test build locally before pushing

**Where to Start:**
I recommend starting with Phase 5 (ML Models) since the core system is complete. The key steps:
1. Create `ml-service/` directory with FastAPI app
2. Ingest 2024-25 season data from FPL API (bootstrap-static history)
3. Train models locally and save artifacts
4. Deploy to Render/Railway
5. Add Convex HTTP action to call ML service
6. Update multiWeekPredictor to use ML for near-term predictions

**Output Format:**
Eventually, I need this data exportable to FPL Review's xMins format (14-week grid with xMins/P90 for all players).

**Success Criteria:**
- ML models achieve 85-90% accuracy on hold-out test set
- System automatically uses ML for confident predictions (GW+1 to GW+4)
- Graceful fallback to heuristics if ML service unavailable
- Sub-30 minute prediction generation (even with ML)

Can you start by confirming you've read the HANDOFF.md and propose a specific implementation plan for Phase 5 (ML Models)?
